<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns=http://www.w3.org/1999/xhtml id=sixapart-standard style><!--
 Page saved with SingleFile 
 url: http://www.ruanyifeng.com/blog/2018/07/indexeddb.html 
 saved date: Fri Mar 13 2020 19:06:24 GMT+0800 (中国标准时间)
--><meta charset=utf-8>
<meta name=generator content="Movable Type  5.2.2">
<meta name=viewport content="width=device-width, initial-scale=1">
<link rel=start href=http://www.ruanyifeng.com/blog/ title=Home>
<link rel=alternate type=application/atom+xml title="Recent Entries" href=http://feeds.feedburner.com/ruanyifeng>
<style>#container::before{display:block;width:100%;padding:10px;background:rgba(0,0,0,0.1);text-align:center;content:"本站显示不正常，可能因为您使用了广告拦截器。"}html,body,div,span,h1,h2,h3,p,blockquote,pre,a,abbr,code,img,ul,li,form,label{margin:0;padding:0;list-style-type:none;text-align:left;text-decoration:none;border-bottom:0;font-weight:normal;font-style:normal;border:0;color:#111}body{margin:0;padding:0;background-color:#f5f5d5;font-family:Georgia,serif;letter-spacing:-0.01em;word-spacing:.2em;line-height:1.8em;font-size:62.5%;color:#111;width:98%}#container::before{display:none}@media (max-width:30rem){body{font-size:60%}}h1{font-size:2.88em}h2{font-size:2.88em;line-height:1.35em}@media (max-width:30rem){h2{font-size:2em}}h3{font-size:1.87em}ul li{list-style-type:square}strong{font-weight:800}p,li{font-size:1.6em;line-height:220%}input,textarea{font-size:1.13em}#container{margin:0 auto;background-color:#f5f5d5;padding:1em}body.one-column #container{width:65%;min-width:640px;max-width:960px}@media (max-width:48rem){#container{padding:.5em}body.one-column #container{width:98%;min-width:0px;overflow:hidden}}#header{width:100%}#header{border-bottom:1px solid #d3d3d3;margin:1em;float:left;height:5em}#header div#header-name{margin-top:.9em;font-size:1.8em;color:#567}#header div#header-name{float:left}#header #feed_icon,#header #google_search{float:right;margin-left:1%;margin-right:1%}#header #feed_icon{margin-top:.9em;-webkit-transform:rotate(5deg);-moz-transform:rotate(5deg);-o-transform:rotate(5deg);transform:rotate(5deg);-webkit-transition:-webkit-transform .4s ease-in;-moz-transition:-moz-transform .4s ease-in;-o-transition:-o-transform .4s ease-in;transition:transform .4s ease-in}#header #feed_icon:hover{-webkit-transform:rotate(275deg);-moz-transform:rotate(275deg);-o-transform:rotate(275deg);transform:rotate(275deg)}#header #google_search{width:201px;height:2.4em;background-image:url(data:image/gif;base64,R0lGODlhyQAYANUAAISEhNjY2Nzc3NnZ2dra2tfX193d3YWFhZiYmPv7++Xl5dvb26KiooeHh/Ly8oiIiLW1tY6Ojvz8/KioqI2NjYuLi7+/v9/f35CQkJSUlKGhoaWlpaurq+rq6unp6eTk5PX19ezs7Lu7u5KSksjIyLi4uPn5+Z2dne7u7tXV1ejo6Pj4+Ovr67y8vObm5peXl5GRkbGxsfHx8e/v75ubm97e3tbW1v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAADJABgAAAb/wE5tSCwaj8ikcslsOp/QqHRKVQpv2Kx2y+16v+CweEwum8/o9LdmULvf8Lh8Tg8b2vW8fs/vl+9+gYKDgiAtCAAIEDNkBgKEkJGSaQoRABQMiA02YwKPk6ChojcOERUBWRcRDS5inqOwsYElAKhaCgcTrguyvb5zGRldEwcSYQu8v8rLZrldIgAOxwTM1dZeGAhdHAcJYQTU1+LXMQAXWzIPDGLg4+7MLA0YClkeIwAADxbGXgQD7wB/pWgAYAMEDfgQ4qMRwsuAfwEjxlLBAV/BAStOWHxAostDiSBjofCGRYKFAxYZSNMywFbIl7IUvLBY4ROWAC5h6hSVAIJFQgpacO4cOkoADADrsgQoQLQpqAQfTGgpwNSpVVFUr2qdVIDT1q+DbASwQbas2bNo06pdy7at27dw48qdS7fu2gBBAAA7);background-repeat:no-repeat;padding:0px;margin:1.3em 1em;position:relative}#header #google_search form{display:inline}#header #google_search .searchbox{border:0px;background-color:transparent;position:absolute;top:0px;left:1px;width:180px;height:24px;outline:0}#header #google_search .searchbox_submit{border:0px;background-color:transparent;position:absolute;top:0px;left:176px;width:29px;height:25px}#header a{color:orange}#footer img{border:0}@media (max-width:30rem){#header #feed_icon{display:none}#header #google_search{display:none}}@media (max-width:48rem){#header{margin:0 2em;height:3em;margin-bottom:1em;max-width:95%}#header div#header-name{margin-top:.5em}}#content{clear:both;margin:1.5em 1em 1em 1em}@media (max-width:30rem){#content{margin:0em}}#content h1,h2,h3{margin:.4em 0 .2em 0;padding:0 0 .2em 0;color:#000;font-weight:500;letter-spacing:-0.03em;border-bottom:1px solid #d3d3d3}#content a:link{color:#567}#content a:visited{color:#567}#content a:hover{color:#654}.one-column #alpha{width:100%}.one-column #alpha h1{line-height:250%;font-family:"Trebuchet MS",Arial,"Lucida Grande",Verdana,Lucida,Helvetica,sans-serif}body.one-column #content #alpha{padding-top:.5em}body.one-column #content #alpha p{margin-top:1em;line-height:180%;margin-left:.8em}body.one-column #content #alpha .asset-content a:link{color:#223472}body.one-column #content #alpha .asset-content a:visited{color:#406}body.one-column #content #alpha .asset-content a:hover{color:#d03500}body.one-column #content #alpha .asset-content a:active{color:#9a2c06}body.one-column #content #alpha .asset-content img{border:.3em solid #e0dfcc;-moz-border-radius:1em;-webkit-border-radius:1em;border-radius:1em}@media (max-width:48rem){body.one-column #content #alpha .asset-content img{max-width:95%;overflow:auto;border:.15em solid #e0dfcc}}body.one-column #content #alpha .asset-content h2,body.one-column #content #alpha .asset-content h3{margin-top:1.5em}body.one-column #content #alpha .asset-content ul{margin-left:4em}@media (max-width:48rem){body.one-column #content #alpha .asset-content ul{margin-left:1.5em}}body.one-column #content #alpha p code{display:inline-block;padding-left:5px;padding-right:5px;font-size:120%;background-color:pink;border-radius:5px;margin:auto 3px}.asset-footer abbr{color:#3d3d3d}body.one-column #content #alpha div.entry-asset{border-bottom:1px solid #d3d3d3;padding-bottom:1em}body.one-column #content #alpha div.asset-nav,body.one-column #content #alpha div.asset-footer{font-weight:bold;color:#fcb297;padding:.3em .5em;margin:0 0 1em 0;border-bottom:0;-moz-border-radius:1em;-webkit-border-radius:1em;border-radius:1em;-moz-box-shadow:inset 0px 1px 0px 0px #eee;-webkit-box-shadow:inset 0px 1px 0px 0px #eee;box-shadow:inset 0px 1px 0px 0px #eee;background:-webkit-gradient(linear,left top,left bottom,color-stop(0.05,#aad2f0),color-stop(1,#8bc1ed));background:-moz-linear-gradient(center top,#aad2f0 5%,#8bc1ed 100%);background-color:#aad2f0;border:1px solid #dcdcdc;text-shadow:1px 1px 0px #eee}body.one-column #content #alpha div.asset-nav:after{content:" ";display:block;height:0;clear:both}body.one-column #content #alpha div.asset-nav{zoom:1}body.one-column #content #alpha div.asset-footer{margin-top:2em;padding:1.5em;border:1px solid #d3d3d3;background-color:#deebf7}body.one-column #content #alpha div.asset-footer h3{border-bottom:1px solid gray;font-size:1.92em;font-weight:bold;color:#567}body.one-column #content #alpha div.asset-footer ul{padding-left:2em;padding-right:2em}body.one-column #content #alpha div.asset-footer li{color:#567}body.one-column #content #alpha div.asset-nav *{display:inline}body.one-column #content #alpha div.asset-nav a{color:green}@media (max-width:30rem){body.one-column #content #alpha div.asset-nav div.entry-categories{float:left;width:70%;display:inline-block}}body.one-column #content #alpha div.asset-nav div.entry-location{width:20em;float:right;overflow:hidden;white-space:nowrap}body.one-column #content #alpha div.asset-nav div.entry-location li{display:block;list-style-type:none}body.one-column #content #alpha div.asset-nav div.entry-location a{color:#567;text-decoration:underline;font-size:95%}@media (max-width:30rem){body.one-column #content #alpha div.asset-nav div.entry-location{display:none}}body.one-column #content #alpha div.asset-meta{margin:1.5em auto 2em;line-height:.8}body.one-column #content #alpha div.asset-meta *{color:#567}body.one-column #content #alpha div.asset-content a{text-decoration:underline;color:#123}body.one-column #content #alpha div.asset-content a:visited{color:#123}body.one-column #content #alpha div.asset-content blockquote{background-color:#f5f2f0;padding:1em;margin:2em 2em;-moz-border-radius:1em;-webkit-border-radius:1em;border-radius:1em;font-family:Consolas,Monaco,"Andale Mono",monospace;border-width:.3em;border-color:#e0dfcc;border-style:solid;text-shadow:0 1px white;overflow:auto}@media (max-width:48rem){body.one-column #content #alpha div.asset-content blockquote{padding:.5em 1em;margin:1em 1em;-moz-border-radius:1em;-webkit-border-radius:1em;border-radius:1em;border-width:.15em}}#related_entries{margin-top:4em}#related_entries ul{margin-left:2em}#related_entries ul a{text-decoration:underline}#related_entries li div.entry-body{margin-left:1em;padding-left:.4em;border-left:.4em solid gray}body.one-column #content #alpha #comments{clear:both;margin-top:2em}body.one-column #content #alpha #comments h2{padding-top:2em}body.one-column #content #alpha #comments a{text-decoration:underline}body.one-column #content #alpha #comments .comment{border-bottom:1px dashed #d3d3d3}body.one-column #content #alpha #comments .comment-header{margin-top:1.6em}body.one-column #content #alpha #comments .comment-header *{color:#2b2b2b;font-weight:700}body.one-column #content #alpha #comments .asset-meta{margin:.6em 0}body.one-column #content #alpha #comments .comment-content{margin-left:1em;font-size:.9em}body.one-column #content #alpha #comments .comment-content blockquote{background-color:#e0dfcc;padding:2em;margin:2em 2em 2em 2em;-moz-border-radius:1em;-webkit-border-radius:1em;border-radius:1em;font-size:.9em}body.one-column #content #alpha #comments .comment-content blockquote pre{font-weight:700;margin-bottom:1.5em;font-size:1.6em}body.one-column #content #alpha #comments .comment-footer{width:40%;margin-left:55%}body.one-column #content #alpha #comments .comment-footer p{font-size:1.2em}body.one-column #content #alpha #comments .comment-footer *{color:black}body.one-column #content #alpha #comments #comments-open input{border:1px solid #d3d3d3;margin-top:0;line-height:1.2;padding:.4em .3em;background-color:#f5f4df}body.one-column #content #alpha #comments #comments-open p{margin:.4em}body.one-column #content #alpha #comments #comments-open textarea{border:1px solid #d3d3d3;background-color:#f5f4df;padding:.5em;width:90%}body.one-column #content #alpha #comments #comments-open input#comment-submit{width:10em;padding:.2em 3em;text-align:center}span.hint{color:gray}body.one-column #content #alpha #comments #comment-last:target{animation:target-fade 4s 1;-webkit-animation:target-fade 4s 1;-moz-animation:target-fade 4s 1}@keyframes move{0%{background-color:rgba(0,0,0,0.1)}100%{background-color:rgba(0,0,0,0)}}@-webkit-keyframes target-fade{0%{background-color:rgba(0,0,0,0.1)}100%{background-color:rgba(0,0,0,0)}}@-moz-keyframes target-fade{0%{background-color:rgba(0,0,0,0.1)}100%{background-color:rgba(0,0,0,0)}}body.one-column #content #alpha #comments #comments-open div#wait *{color:#2b2b2b;background-color:#ffd}@media (max-width:48rem){body.one-column #content #alpha #comments .comment-footer{display:none}}code[class*=language-],pre[class*=language-]{color:black;text-shadow:0 1px white;font-family:monospace,Consolas,Monaco,"Andale Mono";direction:ltr;text-align:left;white-space:pre;word-spacing:normal;font-size:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]{padding:0em 0em .5em 0em;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.comment{color:slategray}.token.punctuation{color:#999}.token.boolean,.token.number{color:#905}.token.string{color:#690}.token.operator{color:#a67f59;background:hsla(0,0%,100%,0.5)}.token.keyword{color:#07a}#comments-open{background:#f0f0c0;padding:0em 1em 2em 2em;border-radius:2em}#footer{margin:0 1em;border-top:1px solid #d3d3d3;color:#d3d3d3;padding-top:0;clear:both;line-height:1.2}#footer a{color:gray}#footer-content{display:flex;justify-content:flex-end;flex-wrap:wrap}#footer-content section{width:300px;margin:1em 2em 2em 0}#footer-content section p{color:gray;font-size:1.4em}@media (max-width:30rem){#footer-content section{margin:1em 1em 0 0}#footer-content section p{text-align:right}}</style>
<link rel=prev href=http://www.ruanyifeng.com/blog/2018/06/weekly-issue-11.html title="每周分享第 11 期">
<link rel=next href=http://www.ruanyifeng.com/blog/2018/07/weekly-issue-12.html title="每周分享第 12 期">
<title>浏览器数据库 IndexedDB 入门教程 - 阮一峰的网络日志</title>
<style>a.bshareDiv,#bsPanel,#bsMorePanel{border:none;background:none;padding:0;margin:0;font:12px Helvetica,Calibri,Tahoma,Arial,宋体,sans-serif;line-height:14px}#bsPanel div{display:block}a.bshareDiv div{zoom:1;display:inline-block}a.bshareDiv div{text-decoration:none;background:none;margin:0;padding:0;border:none;line-height:1.2}div.buzzButton{font-weight:bold}.bsClose{cursor:pointer;position:absolute;z-index:10000000;color:#666;font-weight:bold;font-family:Helvetica,Arial;font-size:14px;line-height:20px}.bsTop{color:#666;background:#f2f2f2;height:24px;line-height:24px;border-bottom:1px solid #e8e8e8}.bsFrameDiv,#bsMorePanel{border:none;background:#fff}a.bshareDiv{overflow:hidden;line-height:18px;color:#333;padding-left:0}a.bshareDiv:hover{text-decoration:none}div.bsTitle{padding:0 8px;border-bottom:1px solid #e8e8e8;color:#666;background:#f2f2f2;text-align:left}div.buzzButton{cursor:pointer}#bsPanel{position:absolute;z-index:100000000;font-size:12px;width:258px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAFUlEQVQY02NkYGBoYCACMI4qpK9CAF4lBQufp6Y3AAAAAElFTkSuQmCC)!important;padding:6px!important;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}div.bsClear{clear:both;height:0;line-height:0;font-size:0;overflow:hidden}</style><link type=image/x-icon rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,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"><style>.sf-hidden{display:none!important}</style><link rel=canonical href=http://www.ruanyifeng.com/blog/2018/07/indexeddb.html></head>
<body id=scrapbook class="mt-entry-archive one-column vsc-initialized">
 <div id=container>
 <div id=container-inner>
 <div id=header>
 <div id=header-inner>
 <div id=header-content>
 <div id=header-name>阮一峰的网络日志 <span id=site_location> » <a href=http://www.ruanyifeng.com/blog/ accesskey=1>首页</a></span><span id=site_archive> » <a href=http://www.ruanyifeng.com/blog/archives.html>档案</a></span>
</div>
<div id=google_search>
<form action=https://www.baidu.com/s target=_blank id=cse-search-box>
 <div>
 <input type=text size=20 name=origin class=searchbox id=sbi value>
 
 
 <input type=image src="data:image/gif;base64,R0lGODlhHQAYAIAAADg4OAAAACH5BAEAAAAALAAAAAAdABgAAAIYhI+py+0Po5y02ouz3rz7D4biSJbmiYoFADs=" class=searchbox_submit value alt=搜索 name=sa>
</div>
</form>
</div>
<div id=feed_icon>
<a href=http://www.ruanyifeng.com/feed.html title=订阅Feed>
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAUzSURBVHjavFdbbFRVFF3nPjoz7dTWTittaW0jUDRAUqaNojyqREnEQKgfUj9MqqAmhqRt/OCD4CuY+Kckoh+aiGKC+gMJbdHoRysJ8dkhhmJLNdDKtJU+6GMK87j3Hs85d2Z6HzNtMYWb3Dn3NWftvfba+5xNYDl+e6Fkj6yqb/oDRbWq14vlPBLRKCITkxf0ROLt+hNjp1PPSRK4kA3vF1dXNRcWlyA2OQU9eos9opAkAiKxD+XkKO6t15aRWO7J/MgmAZU8MEgexgZHMX518Dh72sYMmVKShnxWuWHdHtxKIDIYTgMuDzgfmSOIQkYMpdUF8OY92Hytt4/jvkg47czzU16iQovM3QFwmNck+Yyduu7D6NA0Z6JR4THntFs9V4tWQg6Ui3s6MwKDncsFTnXKLJhDSeUK3AgPtyhccDzmVs999buRt/1Vm4i0od+hX7+MRG87jPGB/w1u8FPj9xEw7McVrnYuOCvtpjTth3J/nTg99c8LRhKhr6D3dTB5R24bXFwbMXBsyZzeoXaycEpJ95TB09AGX/NpqLVNtw8urnVzLvHjFNxiFqRy2OOHuqUVnue+ACkoWzo4O6lGzTmuHq6nPvY2m9rVqjrIK2rMEKxqyG5NPAKt+wjo0LklgfNxJkZMA3KJvqRUk3z5UFY3QH14P0h+WUY79HPvgv7VuSg4ZRGY1YgZgqXmORccF17sy2ehnf9AeO085K2HQFbtXBScj0LcpgF2cN+WV+DZ/LJQu6gD4R7oV7pBJwbSgtMvfiPoVp56DySwxm7EtkMs1WdAB7qzggsDJKQYsHucSkOudrkiCPWR/fA2nYCn8SNIK4NptSMyAu3sAdDRkIsJdfth0LzSrODUoPNZ4KI9SxJI5UHk7D4GdQfz2us31c7CoHMjRkKuDPHseCMrONVhNcDJwMJpKFVvg9L4OaTiNWm1x789KCqkrXhVBiEz0WYCT2nAzQAD1/vaETv1GrRfP4Vx5cfMNcDPwvP0h0DhanPym7OIf/+O67vcJ1/PCJ4KgdzaUP6Wz+dU+5yIL6fV+PsHGAOdwlPpvvUOyeeAVGyCdqkDNB6DPjsBSrnndfOGevOh3RhGItxvA+fX1CtbGFhgYUFkFMZPR6F1HnClHq8HyubWtJexX06CRmdt33hrd7nA7SFY4qoGpnYuOKcRykPPgDCBcsHx9Iv+fNL2PueBehCWUfYQIIMGLOCcOmXDXsh1+yCt35tUPfvzGFuSvzvoinXOxqa02qOhM6733nVP2MAdaej2XN11DPKjLZCD+yBvahGCo7JfTKAN9UD7s8Oe9zUNIhz8fWI8DG2k38WCFdxugANcXrvTVd1IEbuv3Jour7Hzn7jLMBNfKs7R3i67gRVrbeCOEDhinmWhAatsqdquM2XzHZINhK2cqTjHr/XZdVJUbgN3MWAVXKbSyg9jesRW2xP9di+lwrL5ojM3m2H/kG9hwcIA37c71W6wJdW2J2S5nrjYbq/t1AHAhJsKQeyfPvf6IMJgghPJhFZ4x0KlfLFvt22du45Au/A1SOlGc0P672XXwhLtOcM0kTTEMMd0qkVmMNXxMd/tsedUjInr4SQDgOfeXMSiN0FCL5WHah4L1qqYXPJOJlttd+a5M+YpcG5poLYKQ5f+6JJ4r8bbJYP47hq4r7QAs9PjYNhHJd4o8l5taiwuOpa7AS4XKqI/5NjJbTnaWK92nLdLuhQAJayRNMiygXPBeQN+Qbvu0zDc3y+aUzhbkGR73sI7ljvUnndx2q3t+X8CDAD66FtrIL864AAAAABJRU5ErkJggg==" alt style="border:0pt none" data-single-file-origin-u-r-l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAUzSURBVHjavFdbbFRVFF3nPjoz7dTWTittaW0jUDRAUqaNojyqREnEQKgfUj9MqqAmhqRt/OCD4CuY+Kckoh+aiGKC+gMJbdHoRysJ8dkhhmJLNdDKtJU+6GMK87j3Hs85d2Z6HzNtMYWb3Dn3NWftvfba+5xNYDl+e6Fkj6yqb/oDRbWq14vlPBLRKCITkxf0ROLt+hNjp1PPSRK4kA3vF1dXNRcWlyA2OQU9eos9opAkAiKxD+XkKO6t15aRWO7J/MgmAZU8MEgexgZHMX518Dh72sYMmVKShnxWuWHdHtxKIDIYTgMuDzgfmSOIQkYMpdUF8OY92Hytt4/jvkg47czzU16iQovM3QFwmNck+Yyduu7D6NA0Z6JR4THntFs9V4tWQg6Ui3s6MwKDncsFTnXKLJhDSeUK3AgPtyhccDzmVs999buRt/1Vm4i0od+hX7+MRG87jPGB/w1u8FPj9xEw7McVrnYuOCvtpjTth3J/nTg99c8LRhKhr6D3dTB5R24bXFwbMXBsyZzeoXaycEpJ95TB09AGX/NpqLVNtw8urnVzLvHjFNxiFqRy2OOHuqUVnue+ACkoWzo4O6lGzTmuHq6nPvY2m9rVqjrIK2rMEKxqyG5NPAKt+wjo0LklgfNxJkZMA3KJvqRUk3z5UFY3QH14P0h+WUY79HPvgv7VuSg4ZRGY1YgZgqXmORccF17sy2ehnf9AeO085K2HQFbtXBScj0LcpgF2cN+WV+DZ/LJQu6gD4R7oV7pBJwbSgtMvfiPoVp56DySwxm7EtkMs1WdAB7qzggsDJKQYsHucSkOudrkiCPWR/fA2nYCn8SNIK4NptSMyAu3sAdDRkIsJdfth0LzSrODUoPNZ4KI9SxJI5UHk7D4GdQfz2us31c7CoHMjRkKuDPHseCMrONVhNcDJwMJpKFVvg9L4OaTiNWm1x789KCqkrXhVBiEz0WYCT2nAzQAD1/vaETv1GrRfP4Vx5cfMNcDPwvP0h0DhanPym7OIf/+O67vcJ1/PCJ4KgdzaUP6Wz+dU+5yIL6fV+PsHGAOdwlPpvvUOyeeAVGyCdqkDNB6DPjsBSrnndfOGevOh3RhGItxvA+fX1CtbGFhgYUFkFMZPR6F1HnClHq8HyubWtJexX06CRmdt33hrd7nA7SFY4qoGpnYuOKcRykPPgDCBcsHx9Iv+fNL2PueBehCWUfYQIIMGLOCcOmXDXsh1+yCt35tUPfvzGFuSvzvoinXOxqa02qOhM6733nVP2MAdaej2XN11DPKjLZCD+yBvahGCo7JfTKAN9UD7s8Oe9zUNIhz8fWI8DG2k38WCFdxugANcXrvTVd1IEbuv3Jour7Hzn7jLMBNfKs7R3i67gRVrbeCOEDhinmWhAatsqdquM2XzHZINhK2cqTjHr/XZdVJUbgN3MWAVXKbSyg9jesRW2xP9di+lwrL5ojM3m2H/kG9hwcIA37c71W6wJdW2J2S5nrjYbq/t1AHAhJsKQeyfPvf6IMJgghPJhFZ4x0KlfLFvt22du45Au/A1SOlGc0P672XXwhLtOcM0kTTEMMd0qkVmMNXxMd/tsedUjInr4SQDgOfeXMSiN0FCL5WHah4L1qqYXPJOJlttd+a5M+YpcG5poLYKQ5f+6JJ4r8bbJYP47hq4r7QAs9PjYNhHJd4o8l5taiwuOpa7AS4XKqI/5NjJbTnaWK92nLdLuhQAJayRNMiygXPBeQN+Qbvu0zDc3y+aUzhbkGR73sI7ljvUnndx2q3t+X8CDAD66FtrIL864AAAAABJRU5ErkJggg==">
</a></div>
 </div>
 </div>
</div>
 <div id=content>
 <div id=content-inner>
 <div id=alpha>
 <div id=alpha-inner>
 <div id=entry-1997 class="entry-asset asset hentry">
 <div class=asset-header>
<div class="asset-nav entry-nav">
<div class=entry-location>
<ul>
<li>上一篇：<a href=http://www.ruanyifeng.com/blog/2018/06/weekly-issue-11.html title="每周分享第 11 期">每周分享第&nbsp;11&nbsp;期&nbsp;</a></li>
<li>下一篇：<a href=http://www.ruanyifeng.com/blog/2018/07/weekly-issue-12.html title="每周分享第 12 期">每周分享第&nbsp;12&nbsp;期&nbsp;</a></li>
</ul>
</div>
 
 <div class=entry-categories>
 <p>分类<span class=delimiter>：</span></p>
 <ul>
 <li><a href=http://www.ruanyifeng.com/blog/javascript/ rel=tag>JavaScript</a></li>
 </ul>
 </div>
 
 
<div class="entry-location-mobile sf-hidden" style=float:right>
<ul>
</ul>
</div>
</div>
</div>
 
<article class=hentry>
 <h1 id=page-title class="asset-name entry-title">浏览器数据库 IndexedDB 入门教程</h1>
 <div id=share_button class=social-share style=float:right;padding-right:2em;padding-top:1em>
<a class=bshareDiv href=http://www.bshare.cn/share style=display:block;text-decoration:none;padding:0px;margin:0px;font-size:12px;height:21px;width:51px><div class="bsPromo bsPromo1 sf-hidden"></div><div class="buzzButton bsStyle10" style="height:21px;color:#333;background:transparent url(data:image/gif;base64,R0lGODlhMwAVAPcAAAAAAP9mAP9oA/97AP+DAP+GAP+KAP+NAP+QAP+SAP+VAP+XAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAzABUAAAjlAP8JHEiwoMGDCBMeDMCwocOHECNKnOjwX4AFGDNq3Mixo8ePGRMICKCgpMmTKFOqXMnyJMMEMGPKnEmzps2bMhki2Mmzp08GDHYC9dlzKNGjPBkeWMq0qVOgS6EyBUq1KlWnWA8wNMC1q1evQMEy+Eq2rFkDDAuoXcuWLVC3DNpapdq27lqGBPLq3asXKF8Cfvsy2Bv471+GAxIrXpx47tzGjoEynpyYokSgDDFP1Gy582UGmUFHpOq5NETOqCOTNt2ZcwDXDmGzpri66ujVs3Pr3s27t+/fDgVYBO5bofHjyA0GBAA7) no-repeat;text-align:center;width:51px"></div><div style=clear:both></div></a>
</div>
<div class=asset-meta>
 
 <p class="vcard author">作者： <a class="fn url" href=http://www.ruanyifeng.com/>阮一峰</a></p>
 <p>日期： <a href=http://www.ruanyifeng.com/blog/2018/07/><abbr class=published title=2018-07-04T08:55:54+08:00>2018年7月 4日</abbr></a></p>
</div>
 
 <div class="asset-content entry-content" id=main-content>
 
 <h2>一、概述</h2>
 
 
 <p>随着浏览器的功能不断增强，越来越多的网站开始考虑，将大量数据储存在客户端，这样可以减少从服务器获取数据，直接从本地获取数据。</p>
<p>现有的浏览器数据储存方案，都不适合储存大量数据：Cookie 的大小不超过4KB，且每次请求都会发送回服务器；LocalStorage 在 2.5MB 到 10MB 之间（各家浏览器不同），而且不提供搜索功能，不能建立自定义的索引。所以，需要一种新的解决方案，这就是 IndexedDB 诞生的背景。</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATMAAACkCAMAAADMkjkjAAABEVBMVEX////q6urlTSbr6+vxZSjjTibw8PD8/Pz//v/41tHjSRkoKCgAAADx8fHlTSUkJCTuXygdHR3++PX3r5HwVQb0lnXh4eH6zbvpv7UZGRnoq5/lTSrxZC3s9PbR0dGFhYVERETBwcFgYGCzs7PxXh4SEhLc3NyVlZVUVFR8fHylpaXlZUfpm4jjPAk5OTn5vanq3toyMjKNjY3ng229vb2cnJxpaWl0dHSqqqpXV1fqd1vkVi/87+vul4XjQRX3sJL949vkOADovbL1f1DnsqX11snp0836xa7ycDn0iWL84tXlXT3woozrysPngnD0rJz0l2v2pIH2iF/nbEzqemH0vbjtkHfxnYrzdUTtVB35yrSR/bCWAAASo0lEQVR4nO2dC0PayBbHCelEDDAxXIsi5S2gIIgi2kJMqVXbLlq2i9q99/t/kHtm8pqMQBJ1l5rm311B8tD5eebMOfNKLBYpUqRIkSJFihQpUqRIkSJFihQpUqRIkSJF+t2UCMnPCKUSEbnfWeP1f0faqgv6gnqQ/x3thMir3eA4/PtnhXAcXa66oC+oKUYojv5hxeOj+1UX9AV1iAAajvsUGAzye64tuARPtlZd0BfU1ggHohCMGb03fMHt9VUX9AV1NcK+rSy4KGH4AXg2XnVBX1Djf5QZ5UbsbDhedUFfUNokHtRD+Xd/9Exia/JdmOKzTJsEG4GE0YZvoTi9O+5nVl3Ql9RMDlo30cYbv9pAeSP4e1h1MV9Ud3KwyokCMQMTy0Msg3+uupgvqgc5mD8LzIxcgaarLuaL6mdAZsHqpkkZHa66mC+qqR4Q2ROY4XyYUqdY7KITNEALzAzh0e2qi/miuu0EjTUCMiMh7ShMqRMkAnOZLcJIOikCMDNdJR6NQzUqMNbtuokoFOJ/ljALZGdwM5wHZpMwpQGQCMhuKEaHD4Jg9AWYYSN9wrO1MJlZLDbibSpv9K7OQ0Zw4uXM3oEXs95vUGYkRV91IV9Yba4DDQqZX6Q4/YreLdEb8r/FDFG7RXIfzCxMhnbHJZzycBt0sb1YWx7631eHGa3iOkmdwsTswe3QsHxX8JDXHTOWoUGoYTALV+oEyZPurpvyrCcKorBEax53/IPxZ1R6uFInkjxx/qzdK4jLtJQZ8VtXuxyzzlaoamYsdsglnHhyXRCezIxoa9epmzRA6ayHjNk217EByeEzmBE2hxyzeGccMmbrXLuJ8xfPqJuE2keLmZU6yeFKAyB54sZEML58FrNY7AfPDHld8aoEVUbjEgEs7zyT2Vue2cT8USFRIqa1+QDtoCC6HJoQhFkitvaNYyYPw0SMMhtyqaV8znMSBN/MgE3mr113qAGpU6iUiGW4RCAufxc4ZpL7G4+6qX3mmOnn/05Z/j1lzrmGU+9nWWSP84DMcv3xN58GhC11imVudC5Jv+tJNjOpd97/Dv8MkXffvz+8Xapvdrpp+jN9Jy2l05Ih69V+m178dtkxn6f5u0VaCtayr+3wzGbXBbtyFnrtjqzrziRPePvf3eWy003LcC/mWeuvJS+H41Iids8Hte1rNtgY6nH3SHves5/2nYsZlrc9kv5fQVIgQ7vl2gA8YZMnqa8jZkwFBxhDsZjha0LsV6eWDmBmsXU+qB1tMw1l4cHd7xGAmT3q1PvVeRH5rp1kdch4widPF04bIBYOOlzd9M0MW3b7Kpj5hkaZtfnkiU04CztuZk+wM9qJ+Qqw+a+dsfGQT552mOiscNnhJlsFZQaxyytoA4j8Q9PuuEZAP3DyAKGw7WYW3M7kh9fCzHftjGlc8oT0cyZ5Kly7Yw0cjBkmf4JXQMz4DX2HtpA8cXbWZ1KnQk/GLmbYOz4zREMNiE306VOZBb7s2X8bv7Uzc/NotK7n+DNJQGRBFHPcNzPSmYmJe3xq4YNdJr4AM7+1c23qTgQwGa1jDE3+1HFrc6l2HTujSyoQvgj+qz+n8M+72Bsa7Qq8dE/OQPKEsTMINg443fxnsT5+fMuMCMfJvG20/YRCPM9innG1jxyKQLt3JwIIj67ZzqCA4+hbdhOQp/PV8Oj2KcwkSQpa2eBkctUzG2lvl0aY3U44ZviWSZ4Epw/N7E9bbr72SB2it8KQ8s8tg2RQWVD8YqvVagStZaJUa7VqWVGwu5vs35z/YPE9PIc7qNbbmHNo28tGUZbfNMOM1NG5Z3g2l5lUK5WOi3aZ7C/m0UGqnqpwLYE3wfRePfWhKIqA7rhUarZqRQOSmDU+GdQqkkd/gegv4FifYdciQ6wvHa3zYHZjM8vT5U54OJ9ZKZXrViSjtbPLYZ0pterJekVc2nzyH4uEmaJUi6KUPDpScjnlqFuuVtLkdy7CJ2oul+yWz7Ke6P0EHOMhXfjgMOssHa1bzkxjRzdpVNufm6JLJVUpV9y1z/lGauUIM/dB0WVyok3Z8Xsms3QqSaWoipo8JmcWjU8URVGrHlUejnpCS5DkCbli/c7BM5i95ZjR1GkhM5MUcwZlYTITmU+5OsreU7ReHGZKtVKstKpHgKkJGICZul8stuB4ciAtQ0Zv5FU7gVlfxmy3Ylx/kPhBTf/M/mKYkXZTPphbGyxmtIEURcY7kw/StG7SwhknmG9oq2j4cvuNWU7at2/WTUIoK4rpxjHY1l6RMss14bbvu3BkOTNyQ2+Xljl3tQGQ7dwtQebBbGyP1NHcFAOzuQ7JqpvFZrMmNGrNQdG0n+zJ+0GtYdVNOKE2GNSKpH41m80BkMjCK2lTxUZt0Kw1TLBF8PInwgfLzggzcrOqmswNaN3MHUuiVCkrSsnTzny4tDVgZjhsE5o+W1I1vZh9dTEDajtzfyuTmVRL1U9rZ916cq9FK2XxtHykdKtnKmUmCu8/dFW1uzdIi8Vqqn5Uk6B5yNWPgR05kuueUrJCrdpNJsulcpKxM/JTanXyVrLsrHWkwC28mXmnA1O694Ht0PL6ZNlkquXMnEmOZL8DurXG/PDMtLMaaczUnAIOG4xJKlbBb9dTdXDY1J9BIeupVE5VapJ4AkZy2sjuKbnThii9T8J5KVXdIzZY6ypKrp5SkkmXnYGIa2sQZmqpWGyWlVzVV2IqejHbcXUqQkFHvSczu7KZ5RHN7UcXy5hJwAzqU6msQDGh3u3Xifuu7CsGs8qRorTS2X1w3YBiAGRbgyRcJ4mNlHI0kIof1BxED8U9NZksVU6qPDPaHABV0m6qqXpOUU8FH2YmeOdQlyOWGYneewVpvhbMPXCmsNBJju8sZmC8k/npJsNMPcumi2AoXXBe4JD2GlCJqgppA7L7OXU/LaXhY2juiHdS9sDYmuDeS6q6L6TTJ2CRDekEbgLnScWyMpcZsbMkRGwq3L2VdUUtC+Xh0rbdzCA+ONhZokNOY/ZeTOpErRe356ebDLP6ezAwcGApUTo5SqrNNMkDcpRZWVHPIIsaQHu4nwZXTmIH9ZTggCOncKSZS6YqAnytk5xC2uOZQd1UT2ndVKrN5j4wVY+zvjJSD5e2PsFMgIbiebx0vyRuHH2T3aNlbbrJpk7wZX7q5GIGviq7T5m9rydzxEcb8ZnUACtSc3WoU1ByYCbBWeR0oNeFegpH6PdCCS7OimxMa7UBYIdqKWvEGmkpS1xiueKDmCezsYsZWXaP0OItk+Jcn+PmFXOrzA+OmXwXlNl7iLksZlClcilDhJkIbi+pVsFDEGaqeYRhxsca0qmaVFtWfAbfQ8CmDrwzde+WU2uzMS1dVpfHC/dL4vtpdzXGnWXeupkheX7qtIAZiZ9OIUNMG7EGaSMHVjYAJI9zNAWC89PQAh6LVgpBIuAWhF9ufwa+d+COacU0MMt5JwKCd4SmDUkDZ6+kQ5jNpOg+LEvnHmhMG+BM2ENG/CJ/X8Qs95gZxGBQ2ZqNRkul7aYAJ3Ur2ayQbTQA2UlSOTo+BdYQgpHLa1kBjgCcCphfstIo7hMrNJidNbKNyn6S5EqCGdMK2WzNR90U/SCLZe5YSmSREnZmAsE7rh/XzWz3K7vfSMZOA5BxL3w+3+Ey8Vn9vcVMEAckky6X1S5hJomVMjR1Z6Vm6XQfwosqic8GR0qSeKiuqiRPm8dneycivVpR97q5rhVrKOWz/WoSKmay1DBydGgDjs9IjS5lvQM0H10bfXZoie6I1ma1nNlnwswyNO0ry4yY2sH8X8/VbjrMshBDQPHrAzNHr5VzKvzL1cuS0IQgviU1wGeVa9DE7tVVciBF7egDaSbq5WOzbpIQGZRT9yDLonZGmowcuVep6O3N/HShPchM/xm4Mnki9BxdT5iBqUd1c/cv1s40O6Q1zSw+ne890vup1BHNnVIpwuwMXmmGONhLqdVaFr6luVOxWS2njvbOBhCHpFLlLLQTcIh06MCRbuqoul8hVlM8hvf7FbgbuC+pvKfASR9OjyFRNZJW+snR3ulxxbv/zN/o0wE7WkeG11CBCWp7M9dgHs/s7Rrjz8a7HLP8zvzfUQQXlTVeGqQY5NVw6eQAJOCNhnEeeKFGFlyadaYoNIxj9hHzNHhv3zRLT87SMSj6880Psj6yJgOZd8LpXr+DsCywIwJ3zJKoR3a2+YOdx3616TCjXduj+emmPbhgvgjmi5nomt+L9gfWwD5zBn1njPhbF7puap1lguA+WSJ/Y5z3MnJiDaibuMOurRP6rmVkPLOP7J22eGYLUierKO7exieNsi265FEvr0/5HEvfkjFylliDa/vkmh56riNmuIBn9oW906ETnsXpwNPkKSN1q5TfSaJjGTsDAiQ8++RaW3egY+RkVrw/c21v+dHNLL5opO6Xle9pLhrGTuUk02c/XbLMrJndaG4bQFMny6dZqdM7i9nsdUxytOR//raGMFM14b9P04LjjaVLY0IHmsvszZi9k7XW6R2ie6zG8fBVMQsw5X2NHUkn3audc8efCdI2xsjyaHzd3P3qYsakAXmCDfdXjSGIxADTQ2MzNtLHON/pM22AdIs6srmdL3bb2e7u5meyoNUON5jRAMIsLj+8JjMLgCwRu2ODDYyxfmcxI1W0t/O9rXegIcjTFmLDAfbm84+tDHOftTcOMzqAIp8XVg3Cl+hfNti6ir57V0esD11L6ySht30ww5865DTSF/Tuze7m5ps/D68094ag2q4VnuE8zTblA3/d77+CAq3fITsUuie0y21BcoXkUqEg9i77ow6Y2wbw2v37x5aWca1kJd+MnZA2TyszXpA6/YIKiCw21d09G3hiJgL2bGSBcpOud/qT0ecfX+asyifMmNTJ7Nd4BevDDAVFFrt3dkEz9j8bXbMOzcn5CoVC72rRBr0JNnVCxq1eSxoQqMmkWncxIxtG3HLTXJgUmfmDJLhHwzCpkzGXFl+/EjsLjIzdbc8wD8xssrFwDX/CtTafvP3oZga1vLdqGP4UrMmk0pj+a/oUBpkmT/zCdI4ZK2ODsx+8nY0ya69DT2DGTEMmPRxIN6btCSLbhTWXWYJ9dtOfu5ydtcO1TYSjRCwzYXbbIwmnfgCNpE1r+V4RiZgNxhl1MhJUeRhSZKDMzDUcBwHa8PK6B62ku9dzSd2Ee2hXh3bqFNKtNVit3bmGSWgrMLk72L6m2NwVdC6zzB9f/vPNImZveYDk0G2t4SjBrq2jTy8CG5HlfPv79BawSeJSZtrWx7d/v2F2PLCZhW9rDUvgcm6YhNN64hPYmizr8fbDRa9QKCxipn35k/CinWYcMxTvHIa1DQDxm2w49TQvdz7Js4PbrChJFjMjsFjLaFs//obc07Evm5lZwTu3IWZ2sYgZIj1AWO/okwezVTDsLDO+Onz7lVlGN48Z2ZUwvFqXF2yJb2z+THrCdH1EWgWhAPXx6svNXy4HNp9ZXB6vumD/oNbRot2iqakh2hMJ3g21+9Otj98sD7ZIyKybKGy7ErJa9Gwse2CTvOTpvAR5YzkvItqzBLAnmRD7M20yv2pa7SgdRcK0ovpZW43yhp3NQrWTIydtNv9ZMvYGmcja195jX3embsLJdyHbBN+lR5tsLJC/PZbsHakeQm1n/A6Fi+XBbGNjw8739XA9C4tT5tz3c56WMHtHZ9E6N9Knoa2ZZLNPfqvyJzDbQFYwZzO7DzOztZ1n1c13GxvGI1RcmypjOUyPxH2se59PeXrcBpBHRtozscwHu5rMUJhTJ7K9uzE1yAhijeVdj56YiB7tsQS8KCJM4zfzmT100xsS/uJxLMQxbWz8cybrNOkkRoNNQo+hMXssUQOzzrAe6Woih1RTR8Opa/5LuESKldHWp0O5I8t545FEC+qmZWeWgTE8ja4MI5/voLv7cYZdORAyOcXSts9nozidojfHygyBnW08fmaWaXB0EdlkeLOe4W8dNiWYl7Wr6cNwAr5obtKOjLE8x7ux1DBcNbk7NxZ0hpeWpYT9hWi8Pe23kfz4UcPYcltmPWW4YllGw4fLK811p/BqThG19fuDIdZ5bNhYlelMFTVycfBgo/50e8z4/IQx7Pkb0GOV0caH/VFHJ7UUGSthDVSYuH/aFYnz8Lms65OH+7EWqud5P0Nr2tV5Oy5T72Z1OxqGRruFSN8tmk3XM2vcJITfVE75x4cPwxFpFcxubrMHEnBNhj+3tUfn//YyUGhb0++zkb38lQAbDc93zOl7YF8Jdyvyu4p15jEyOrd9c0exAbBJf+d2nGHOcl3y+4qdkme8gVzh/rwtz35CCzlvdlAkqgT/NqNpdgv52/v8SJEiRYoUKVKkSJEiRYoUKVKkSJEiRYoUKVKkSJF86/8iN2fbyCxJewAAAABJRU5ErkJggg==" alt title></p>
<p>通俗地说，IndexedDB 就是浏览器提供的本地数据库，它可以被网页脚本创建和操作。IndexedDB 允许储存大量数据，提供查找接口，还能建立索引。这些都是 LocalStorage 所不具备的。就数据库类型而言，IndexedDB 不属于关系型数据库（不支持 SQL 查询语句），更接近 NoSQL 数据库。</p>
<p>IndexedDB 具有以下特点。</p>
<p><strong>（1）键值对储存。</strong> IndexedDB 内部采用对象仓库（object store）存放数据。所有类型的数据都可以直接存入，包括 JavaScript 对象。对象仓库中，数据以"键值对"的形式保存，每一个数据记录都有对应的主键，主键是独一无二的，不能有重复，否则会抛出一个错误。</p>
<p><strong>（2）异步。</strong> IndexedDB 操作时不会锁死浏览器，用户依然可以进行其他操作，这与 LocalStorage 形成对比，后者的操作是同步的。异步设计是为了防止大量数据的读写，拖慢网页的表现。</p>
<p><strong>（3）支持事务。</strong> IndexedDB 支持事务（transaction），这意味着一系列操作步骤之中，只要有一步失败，整个事务就都取消，数据库回滚到事务发生之前的状态，不存在只改写一部分数据的情况。</p>
<p><strong>（4）同源限制</strong> IndexedDB 受到同源限制，每一个数据库对应创建它的域名。网页只能访问自身域名下的数据库，而不能访问跨域的数据库。</p>
<p><strong>（5）储存空间大</strong> IndexedDB 的储存空间比 LocalStorage 大得多，一般来说不少于 250MB，甚至没有上限。</p>
<p><strong>（6）支持二进制储存。</strong> IndexedDB 不仅可以储存字符串，还可以储存二进制数据（ArrayBuffer 对象和 Blob 对象）。</p>
<h2>二、基本概念</h2>
<p>IndexedDB 是一个比较复杂的 API，涉及不少概念。它把不同的实体，抽象成一个个对象接口。学习这个 API，就是学习它的各种对象接口。</p>
<blockquote>
 <ul>
<li>数据库：IDBDatabase 对象</li>
<li>对象仓库：IDBObjectStore 对象</li>
<li>索引： IDBIndex 对象</li>
<li>事务： IDBTransaction 对象</li>
<li>操作请求：IDBRequest 对象</li>
<li>指针： IDBCursor 对象</li>
<li>主键集合：IDBKeyRange 对象</li>
</ul>
</blockquote>
<p>下面是一些主要的概念。</p>
<p><strong>（1）数据库</strong></p>
<p>数据库是一系列相关数据的容器。每个域名（严格的说，是协议 + 域名 + 端口）都可以新建任意多个数据库。</p>
<p>IndexedDB 数据库有版本的概念。同一个时刻，只能有一个版本的数据库存在。如果要修改数据库结构（新增或删除表、索引或者主键），只能通过升级数据库版本完成。</p>
<p><strong>（2）对象仓库</strong></p>
<p>每个数据库包含若干个对象仓库（object store）。它类似于关系型数据库的表格。</p>
<p><strong>（3）数据记录</strong></p>
<p>对象仓库保存的是数据记录。每条记录类似于关系型数据库的行，但是只有主键和数据体两部分。主键用来建立默认的索引，必须是不同的，否则会报错。主键可以是数据记录里面的一个属性，也可以指定为一个递增的整数编号。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span>
</code></pre></blockquote>
<p>上面的对象中，<code>id</code>属性可以当作主键。</p>
<p>数据体可以是任意数据类型，不限于对象。</p>
<p><strong>（4）索引</strong></p>
<p>为了加速数据的检索，可以在对象仓库里面，为不同的属性建立索引。</p>
<p><strong>（5）事务</strong></p>
<p>数据记录的读写和删改，都要通过事务完成。事务对象提供<code>error</code>、<code>abort</code>和<code>complete</code>三个事件，用来监听操作结果。</p>
<h2>三、操作流程</h2>
<p>IndexedDB 数据库的各种操作，一般是按照下面的流程进行的。这个部分只给出简单的代码示例，用于快速上手，详细的各个对象的 API 请看<a href=https://wangdoc.com/javascript/bom/indexeddb.html#indexeddb-%E5%AF%B9%E8%B1%A1 target=_blank>这里</a>。</p>
<h3>3.1 打开数据库</h3>
<p>使用 IndexedDB 的第一步是打开数据库，使用<code>indexedDB.open()</code>方法。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">var</span> request <span class="token operator">=</span> window<span class="token punctuation">.</span>indexedDB<span class="token punctuation">.</span><span class="token function">open<span class="token punctuation">(</span></span>databaseName<span class="token punctuation">,</span> version<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<p>这个方法接受两个参数，第一个参数是字符串，表示数据库的名字。如果指定的数据库不存在，就会新建数据库。第二个参数是整数，表示数据库的版本。如果省略，打开已有数据库时，默认为当前版本；新建数据库时，默认为<code>1</code>。</p>
<p><code>indexedDB.open()</code>方法返回一个 IDBRequest 对象。这个对象通过三种事件<code>error</code>、<code>success</code>、<code>upgradeneeded</code>，处理打开数据库的操作结果。</p>
<p><strong>（1）error 事件</strong></p>
<p><code>error</code>事件表示打开数据库失败。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
request<span class="token punctuation">.</span>onerror <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'数据库打开报错'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<p><strong>（2）success 事件</strong></p>
<p><code>success</code>事件表示成功打开数据库。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">var</span> db<span class="token punctuation">;</span>

request<span class="token punctuation">.</span>onsuccess <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  db <span class="token operator">=</span> request<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'数据库打开成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<p>这时，通过<code>request</code>对象的<code>result</code>属性拿到数据库对象。</p>
<p><strong>（3）upgradeneeded 事件</strong></p>
<p>如果指定的版本号，大于数据库的实际版本号，就会发生数据库升级事件<code>upgradeneeded</code>。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">var</span> db<span class="token punctuation">;</span>

request<span class="token punctuation">.</span>onupgradeneeded <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  db <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></blockquote>
<p>这时通过事件对象的<code>target.result</code>属性，拿到数据库实例。</p>
<h3>3.2 新建数据库</h3>
<p>新建数据库与打开数据库是同一个操作。如果指定的数据库不存在，就会新建。不同之处在于，后续的操作主要在<code>upgradeneeded</code>事件的监听函数里面完成，因为这时版本从无到有，所以会触发这个事件。</p>
<p>通常，新建数据库以后，第一件事是新建对象仓库（即新建表）。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
request<span class="token punctuation">.</span>onupgradeneeded <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  db <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
  <span class="token keyword">var</span> objectStore <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">createObjectStore<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> keyPath<span class="token punctuation">:</span> <span class="token string">'id'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></blockquote>
<p>上面代码中，数据库新建成功以后，新增一张叫做<code>person</code>的表格，主键是<code>id</code>。</p>
<p>更好的写法是先判断一下，这张表格是否存在，如果不存在再新建。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
request<span class="token punctuation">.</span>onupgradeneeded <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  db <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
  <span class="token keyword">var</span> objectStore<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>db<span class="token punctuation">.</span>objectStoreNames<span class="token punctuation">.</span><span class="token function">contains<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    objectStore <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">createObjectStore<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> keyPath<span class="token punctuation">:</span> <span class="token string">'id'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></blockquote>
<p>主键（key）是默认建立索引的属性。比如，数据记录是<code>{ id: 1, name: '张三' }</code>，那么<code>id</code>属性可以作为主键。主键也可以指定为下一层对象的属性，比如<code>{ foo: { bar: 'baz' } }</code>的<code>foo.bar</code>也可以指定为主键。</p>
<p>如果数据记录里面没有合适作为主键的属性，那么可以让 IndexedDB 自动生成主键。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">var</span> objectStore <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">createObjectStore<span class="token punctuation">(</span></span>
  <span class="token string">'person'</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> autoIncrement<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<p>上面代码中，指定主键为一个递增的整数。</p>
<p>新建对象仓库以后，下一步可以新建索引。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
request<span class="token punctuation">.</span>onupgradeneeded <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  db <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
  <span class="token keyword">var</span> objectStore <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">createObjectStore<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> keyPath<span class="token punctuation">:</span> <span class="token string">'id'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  objectStore<span class="token punctuation">.</span><span class="token function">createIndex<span class="token punctuation">(</span></span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> unique<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  objectStore<span class="token punctuation">.</span><span class="token function">createIndex<span class="token punctuation">(</span></span><span class="token string">'email'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> unique<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></blockquote>
<p>上面代码中，<code>IDBObject.createIndex()</code>的三个参数分别为索引名称、索引所在的属性、配置对象（说明该属性是否包含重复的值）。</p>
<h3>3.3 新增数据</h3>
<p>新增数据指的是向对象仓库写入数据记录。这需要通过事务完成。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">function</span> <span class="token function">add<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> request <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction<span class="token punctuation">(</span></span><span class="token punctuation">[</span><span class="token string">'person'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">objectStore<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">add<span class="token punctuation">(</span></span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token string">'<a class="token email-link" href=mailto:zhangsan@example.com>zhangsan@example.com</a>'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  request<span class="token punctuation">.</span>onsuccess <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'数据写入成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  request<span class="token punctuation">.</span>onerror <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'数据写入失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">add<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<p>上面代码中，写入数据需要新建一个事务。新建时必须指定表格名称和操作模式（"只读"或"读写"）。新建事务以后，通过<code>IDBTransaction.objectStore(name)</code>方法，拿到 IDBObjectStore 对象，再通过表格对象的<code>add()</code>方法，向表格写入一条记录。</p>
<p>写入操作是一个异步操作，通过监听连接对象的<code>success</code>事件和<code>error</code>事件，了解是否写入成功。</p>
<h3>3.4 读取数据</h3>
<p>读取数据也是通过事务完成。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">function</span> <span class="token function">read<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> transaction <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction<span class="token punctuation">(</span></span><span class="token punctuation">[</span><span class="token string">'person'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> objectStore <span class="token operator">=</span> transaction<span class="token punctuation">.</span><span class="token function">objectStore<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> request <span class="token operator">=</span> objectStore<span class="token punctuation">.</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   request<span class="token punctuation">.</span>onerror <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'事务失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>

   request<span class="token punctuation">.</span>onsuccess <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Name: '</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>result<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Age: '</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>result<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Email: '</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>result<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'未获得数据记录'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">read<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<p>上面代码中，<code>objectStore.get()</code>方法用于读取数据，参数是主键的值。</p>
<h3>3.5 遍历数据</h3>
<p>遍历数据表格的所有记录，要使用指针对象 IDBCursor。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">function</span> <span class="token function">readAll<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> objectStore <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">objectStore<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   objectStore<span class="token punctuation">.</span><span class="token function">openCursor<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>onsuccess <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> cursor <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>

     <span class="token keyword">if</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Id: '</span> <span class="token operator">+</span> cursor<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
       console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Name: '</span> <span class="token operator">+</span> cursor<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
       console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Age: '</span> <span class="token operator">+</span> cursor<span class="token punctuation">.</span>value<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
       console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'Email: '</span> <span class="token operator">+</span> cursor<span class="token punctuation">.</span>value<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
       cursor<span class="token punctuation">.</span><span class="token keyword">continue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'没有更多数据了！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">readAll<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<p>上面代码中，新建指针对象的<code>openCursor()</code>方法是一个异步操作，所以要监听<code>success</code>事件。</p>
<h3>3.6 更新数据</h3>
<p>更新数据要使用<code>IDBObject.put()</code>方法。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">function</span> <span class="token function">update<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> request <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction<span class="token punctuation">(</span></span><span class="token punctuation">[</span><span class="token string">'person'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">objectStore<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">put<span class="token punctuation">(</span></span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token string">'<a class="token email-link" href=mailto:lisi@example.com>lisi@example.com</a>'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  request<span class="token punctuation">.</span>onsuccess <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'数据更新成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  request<span class="token punctuation">.</span>onerror <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'数据更新失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">update<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<p>上面代码中，<code>put()</code>方法自动更新了主键为<code>1</code>的记录。</p>
<h3>3.7 删除数据</h3>
<p><code>IDBObjectStore.delete()</code>方法用于删除记录。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">function</span> <span class="token function">remove<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> request <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction<span class="token punctuation">(</span></span><span class="token punctuation">[</span><span class="token string">'person'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'readwrite'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">objectStore<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">delete<span class="token punctuation">(</span></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  request<span class="token punctuation">.</span>onsuccess <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'数据删除成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">remove<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<h3>3.8 使用索引</h3>
<p>索引的意义在于，可以让你搜索任意字段，也就是说从任意字段拿到数据记录。如果不建立索引，默认只能搜索主键（即从主键取值）。</p>
<p>假定新建表格的时候，对<code>name</code>字段建立了索引。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
objectStore<span class="token punctuation">.</span><span class="token function">createIndex<span class="token punctuation">(</span></span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> unique<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>
<p>现在，就可以从<code>name</code>找到对应的数据记录了。</p>
<blockquote><pre class=language-javascript><code class=language-javascript>
<span class="token keyword">var</span> transaction <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">transaction<span class="token punctuation">(</span></span><span class="token punctuation">[</span><span class="token string">'person'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'readonly'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> store <span class="token operator">=</span> transaction<span class="token punctuation">.</span><span class="token function">objectStore<span class="token punctuation">(</span></span><span class="token string">'person'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> index <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">index<span class="token punctuation">(</span></span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> request <span class="token operator">=</span> index<span class="token punctuation">.</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'李四'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span>onsuccess <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck=true> // ...
</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck=true> // ...
</span>  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></blockquote>
<p>（完）</p>
 
 </div>
 
 <div class=asset-footer>
<h3>文档信息</h3>
<ul>
<li>版权声明：自由转载-非商用-非衍生-保持署名（<a href=http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh>创意共享3.0许可证</a>）</li>
<li>发表日期： <abbr class=published title=2018-07-04T08:55:54+08:00>2018年7月 4日</abbr></li>
</ul>
 </div>
</article>
 </div>
 <div style=display:inline-block!important;width:100%>
 </div>
<div id=related_entries>
<h2>相关文章</h2>
<ul>
<li><strong>2020.01.26: <a href=http://www.ruanyifeng.com/blog/2020/01/deno-intro.html>Deno 运行时入门教程：Node.js 的替代品</a></strong>
 <div class=entry-body>
 这几天假期，我学习了一下 Deno。它是 Node.js 的替代品。有了它，将来可能就不需要 Node.js 了。
 </div>
</li>
 
<li><strong>2019.09.01: <a href=http://www.ruanyifeng.com/blog/2019/09/react-hooks.html>React Hooks 入门教程</a></strong>
 <div class=entry-body>
 React 是主流的前端框架，v16.8 版本引入了全新的 API，叫做 React Hooks，颠覆了以前的用法。
 </div>
</li>
 
<li><strong>2019.08.06: <a href=http://www.ruanyifeng.com/blog/2019/08/web_components.html>Web Components 入门实例教程</a></strong>
 <div class=entry-body>
 组件是前端的发展方向，现在流行的 React 和 Vue 都是组件框架。
 </div>
</li>
 
<li><strong>2019.04.15: <a href=http://www.ruanyifeng.com/blog/2019/04/user-tracking.html>如何用网页脚本追踪用户</a></strong>
 <div class=entry-body>
 本文介绍如何编写 JavaScript 脚本，将用户数据发回服务器。
 </div>
</li>
 
</ul>
</div>
 
 <div id=comments class=comments>
 
 
 
 <h2 class=comments-header>留言（40条）</h2>
 <div id=comments-content class=comments-content style=clear:left>
 
 <div id=comment-390522 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">zx</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390522>
 <p>兼容性怎么样</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  4, 2018  9:14 AM">2018年7月 4日 09:14</abbr>
 | <a href=#comment-390522>#</a>
 | <a href=#comment-text title=引用zx的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390525 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">JS</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390525>
 <p><a href=https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API rel=nofollow>https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API</a></p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  4, 2018 10:05 AM">2018年7月 4日 10:05</abbr>
 | <a href=#comment-390525>#</a>
 | <a href=#comment-text title=引用JS的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390526 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">yqzhang</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390526>
 <p>我想请教一下本地数据库的应用场景有哪些？</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  4, 2018 10:10 AM">2018年7月 4日 10:10</abbr>
 | <a href=#comment-390526>#</a>
 | <a href=#comment-text title=引用yqzhang的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390529 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">lovemegowin</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390529>
 <p>同求应用场景</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  4, 2018 10:35 AM">2018年7月 4日 10:35</abbr>
 | <a href=#comment-390529>#</a>
 | <a href=#comment-text title=引用lovemegowin的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390530 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=https://jisuye.com href=https://jisuye.com/ target=_blank rel=nofollow>ixx</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390530>
 <p>浏览器兼容：https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API#Browser_compatibility</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  4, 2018 10:39 AM">2018年7月 4日 10:39</abbr>
 | <a href=#comment-390530>#</a>
 | <a href=#comment-text title=引用ixx的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390533 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">路过</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390533>
 <p>各种清理软件用户分钟就清理了</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  4, 2018 11:18 AM">2018年7月 4日 11:18</abbr>
 | <a href=#comment-390533>#</a>
 | <a href=#comment-text title=引用路过的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390534 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">鱼鱼青年lc</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390534>
 <p>在开发的时候用于取代mock服务？还有在tob场景下缓存大批量数据减少服务器压力么</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  4, 2018 12:05 PM">2018年7月 4日 12:05</abbr>
 | <a href=#comment-390534>#</a>
 | <a href=#comment-text title=引用鱼鱼青年lc的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390536 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">我要说</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390536>
 <p>应该还是做一些缓存而已 只不过提供一些结构化的方式 优于localStorage 罢了</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  4, 2018  1:21 PM">2018年7月 4日 13:21</abbr>
 | <a href=#comment-390536>#</a>
 | <a href=#comment-text title=引用我要说的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390539 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=http://blog.csdn.net/renfufei/ href=http://blog.csdn.net/renfufei/ target=_blank rel=nofollow>铁锚</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390539>
 <p>感谢！ 浅显易懂。</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  4, 2018  3:06 PM">2018年7月 4日 15:06</abbr>
 | <a href=#comment-390539>#</a>
 | <a href=#comment-text title=引用铁锚的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390543 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">优惠券</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390543>
 <blockquote>
<pre>引用路过的发言：</pre>
<p>各种清理软件用户分钟就清理了</p>
</blockquote>
<p>说的真是废话，你怎么不说用户分分钟就把系统重装了呢</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  5, 2018 12:53 AM">2018年7月 5日 00:53</abbr>
 | <a href=#comment-390543>#</a>
 | <a href=#comment-text title=引用优惠券的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390544 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=http://legofan.cc href=http://legofan.cc/ target=_blank rel=nofollow>天地仁一</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390544>
 <p>如何防止IndexDB被用户修改呢?</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  5, 2018 12:58 AM">2018年7月 5日 00:58</abbr>
 | <a href=#comment-390544>#</a>
 | <a href=#comment-text title=引用天地仁一的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390553 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">123</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390553>
 <p>一峰 ，你的es6 入门网站挂掉了，速度续费啊，大佬</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  5, 2018  3:58 PM">2018年7月 5日 15:58</abbr>
 | <a href=#comment-390553>#</a>
 | <a href=#comment-text title=引用123的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390555 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">mall</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390555>
 <p>用户换个电脑访问，DB的数据怎么办</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  5, 2018  5:27 PM">2018年7月 5日 17:27</abbr>
 | <a href=#comment-390555>#</a>
 | <a href=#comment-text title=引用mall的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390556 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">6</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390556>
 <p>简单易懂！</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  5, 2018  6:21 PM">2018年7月 5日 18:21</abbr>
 | <a href=#comment-390556>#</a>
 | <a href=#comment-text title=引用6的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390572 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">xianxiaobo</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390572>
 <p>催更</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  6, 2018 10:33 AM">2018年7月 6日 10:33</abbr>
 | <a href=#comment-390572>#</a>
 | <a href=#comment-text title=引用xianxiaobo的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390574 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">Magic</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390574>
 <p>坐等每周分享12</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  6, 2018 12:49 PM">2018年7月 6日 12:49</abbr>
 | <a href=#comment-390574>#</a>
 | <a href=#comment-text title=引用Magic的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390651 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=http://gaoshuai.site href=http://gaoshuai.site/ target=_blank rel=nofollow>shawn</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390651>
 <p>IndexedDB 早在去年就引起重视，一直使用“localforage”，这个库来操作本地存储，大家也可以试一试，兼容不错</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  8, 2018 11:23 AM">2018年7月 8日 11:23</abbr>
 | <a href=#comment-390651>#</a>
 | <a href=#comment-text title=引用shawn的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390707 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=https://hufangyun.com href=https://hufangyun.com/ target=_blank rel=nofollow>Youthink</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390707>
 <p>浏览器兼容性，可以在这里看 <a href="https://caniuse.com/#search=IndexedDB" rel=nofollow>https://caniuse.com/#search=IndexedDB</a></p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July  9, 2018  2:46 PM">2018年7月 9日 14:46</abbr>
 | <a href=#comment-390707>#</a>
 | <a href=#comment-text title=引用Youthink的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390759 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">wfwf</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390759>
 <p>这样的话，是不是用来开发移动app更好了，有了本地存储</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July 10, 2018  3:08 PM">2018年7月10日 15:08</abbr>
 | <a href=#comment-390759>#</a>
 | <a href=#comment-text title=引用wfwf的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-390845 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=https://www.cnblogs.com/Nick-Hu/ href=https://www.cnblogs.com/Nick-Hu/ target=_blank rel=nofollow>nick</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-390845>
 <blockquote>
<pre>引用mall的发言：</pre>
<p>用户换个电脑访问，DB的数据怎么办</p>
</blockquote>
<p>这个问题还用问吗，要是没有保存到服务器数据肯定没了。呀，这只是做一些数据缓存而已。文章开头都已经说明了它的用途了。</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July 12, 2018  5:51 PM">2018年7月12日 17:51</abbr>
 | <a href=#comment-390845>#</a>
 | <a href=#comment-text title=引用nick的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-391003 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">Mikcal</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-391003>
 <p>本地存储的的话，它的安全性怎么样啊？或者说它的应用场景有哪些呢？存储一些无关紧要的数据？</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July 16, 2018  4:35 PM">2018年7月16日 16:35</abbr>
 | <a href=#comment-391003>#</a>
 | <a href=#comment-text title=引用Mikcal的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-391191 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">zzp</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-391191>
 <p>对于页游开发者,应该很有用</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July 20, 2018  4:41 PM">2018年7月20日 16:41</abbr>
 | <a href=#comment-391191>#</a>
 | <a href=#comment-text title=引用zzp的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-391421 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">xl</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-391421>
 <p>请教大神 那是不是只要统一管理 这个indexedDB 可以替代 redux </p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July 26, 2018 11:12 AM">2018年7月26日 11:12</abbr>
 | <a href=#comment-391421>#</a>
 | <a href=#comment-text title=引用xl的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-391677 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">oldfu</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-391677>
 <p>我也想了解下应用场景</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="August  1, 2018  9:18 AM">2018年8月 1日 09:18</abbr>
 | <a href=#comment-391677>#</a>
 | <a href=#comment-text title=引用oldfu的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-392006 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">张老汉</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-392006>
 <p>区块链项目，服务端只存储加密字符串：客户端(electron)需要下载大量的加密数据，然后批量解密，并且提供排序和数据流转。所以前端没数据库是不行的。</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="August 10, 2018 11:12 AM">2018年8月10日 11:12</abbr>
 | <a href=#comment-392006>#</a>
 | <a href=#comment-text title=引用张老汉的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-393928 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">arh</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-393928>
 <p>老师 能详细讲下 版本 吗 ？ 它如何影响数据增删改查的？</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="October 12, 2018  9:55 AM">2018年10月12日 09:55</abbr>
 | <a href=#comment-393928>#</a>
 | <a href=#comment-text title=引用arh的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-394987 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">杨龙飞</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-394987>
 <blockquote>
<pre>引用mall的发言：</pre>
<p>用户换个电脑访问，DB的数据怎么办</p>
</blockquote>
<p>原始数据是从库里面请求的，然后放到本地indexdb里，之后的<br>
操作都可以走本地了，本地的indexDB只是服务器db的一个缓存</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="November 15, 2018 10:29 AM">2018年11月15日 10:29</abbr>
 | <a href=#comment-394987>#</a>
 | <a href=#comment-text title=引用杨龙飞的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-395054 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=https://github.com/ilvseyinfu href=https://github.com/ilvseyinfu target=_blank rel=nofollow>ilvseyinfu</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-395054>
 <p>阮老师写的好呐，通俗易懂，这是我根据教程写的一个通讯录的项目https://github.com/ilvseyinfu/AddressBook</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="November 16, 2018 11:13 AM">2018年11月16日 11:13</abbr>
 | <a href=#comment-395054>#</a>
 | <a href=#comment-text title=引用ilvseyinfu的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-395449 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=http://www.itwork.club/ href=http://www.itwork.club/ target=_blank rel=nofollow>STAR</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-395449>
 <p>很好的入门。正要做一个基于本地的东西</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="November 23, 2018 12:54 PM">2018年11月23日 12:54</abbr>
 | <a href=#comment-395449>#</a>
 | <a href=#comment-text title=引用STAR的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-405873 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">桐花</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-405873>
 <p>一个web应用，不需要服务器的那种。比如单机游戏，比如个体店的出纳。<br>
最多的我觉得还是移动端做数据缓存</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="January 23, 2019 11:43 PM">2019年1月23日 23:43</abbr>
 | <a href=#comment-405873>#</a>
 | <a href=#comment-text title=引用桐花的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-409245 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">聪聪</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-409245>
 <p>关系型数据库中表的每一行本来就叫记录</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="February 26, 2019  6:12 PM">2019年2月26日 18:12</abbr>
 | <a href=#comment-409245>#</a>
 | <a href=#comment-text title=引用聪聪的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-410032 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">vito</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-410032>
 <p>想给某个对象存储新增一个字段怎么做？升级数据库后不能创建这个表，报已经存在</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="March 20, 2019  5:09 PM">2019年3月20日 17:09</abbr>
 | <a href=#comment-410032>#</a>
 | <a href=#comment-text title=引用vito的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-411445 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">橙续缘</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-411445>
 <p>请问可以转载阮老师的这篇文章吗，自当声明出处。</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="May 29, 2019  6:57 PM">2019年5月29日 18:57</abbr>
 | <a href=#comment-411445>#</a>
 | <a href=#comment-text title=引用橙续缘的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-412147 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=https://www.ivu4e.com href=https://www.ivu4e.com/ target=_blank rel=nofollow>微wx笑</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-412147>
 <p>好奇怪的用法，先调用了indexedDB.open触发事件，然后再绑定回调函数。</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July 11, 2019  3:36 PM">2019年7月11日 15:36</abbr>
 | <a href=#comment-412147>#</a>
 | <a href=#comment-text title=引用微wx笑的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-412398 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=https://blog.sky-city.me href=https://blog.sky-city.me/ target=_blank rel=nofollow>silas</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-412398>
 <p>最后一个用索引查的例子，有关键部分漏了，我这里补充下</p>
<p> getByIndex: async function (table, keyValue, indexCursor) {<br>
 try {<br>
 let db = await this.openDB();<br>
 let store = db<br>
 .transaction(table.name, 'readonly')<br>
 .objectStore(table.name);<br>
 let keyRng = IDBKeyRange.only(keyValue);<br>
 let request = store.index(indexCursor).openCursor(keyRng);<br>
 let data = [];<br>
 return new Promise(resolve =&gt; {<br>
 request.onerror = function (event) {<br>
 reject(false);<br>
 };<br>
 request.onsuccess = function (event) {<br>
 var cursor = event.target.result;<br>
 if (cursor) {<br>
 console.log(cursor.value);<br>
 data.push(cursor.value);<br>
 cursor.continue();<br>
 }<br>
 };<br>
 resolve(data);<br>
 });<br>
 } catch (error) {<br>
 return Promise.reject(false);<br>
 }<br>
 }</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="July 26, 2019  9:52 AM">2019年7月26日 09:52</abbr>
 | <a href=#comment-412398>#</a>
 | <a href=#comment-text title=引用silas的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-413137 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">zlq</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-413137>
 <p>请问 对于服务器emqtt推送的消息需要存入缓存 如果频率特别高 怎么处理才更加合理呢 localStorage、indexedDB 对于这种高并发的情况 怎么才能保证性能呢</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="August 31, 2019  7:26 PM">2019年8月31日 19:26</abbr>
 | <a href=#comment-413137>#</a>
 | <a href=#comment-text title=引用zlq的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-413140 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">zlq</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-413140>
 <p>还有一点比较疑惑 就是一张表只能存50条吗 用谷歌调试 在面板只能看到50条数据 但是可以取到所有数据（&gt;50）这个是谷歌浏览器的限制吗</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="August 31, 2019  8:17 PM">2019年8月31日 20:17</abbr>
 | <a href=#comment-413140>#</a>
 | <a href=#comment-text title=引用zlq的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-414234 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=https://github.com/JasonMa2015 href=https://github.com/JasonMa2015 target=_blank rel=nofollow>JasonMa</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-414234>
 <p>学习完后写了一个操作的工具函数，希望对大家有帮助，详细请移步掘金 <a href=https://juejin.im/post/5db6902ae51d452a0e212d99 rel=nofollow>https://juejin.im/post/5db6902ae51d452a0e212d99</a></p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="October 29, 2019  3:36 PM">2019年10月29日 15:36</abbr>
 | <a href=#comment-414234>#</a>
 | <a href=#comment-text title=引用JasonMa的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-414310 class=comment>
 <div class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author">HarryLit</span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-414310>
 <p>这是新的API吧，学习了</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="November  1, 2019  3:07 PM">2019年11月 1日 15:07</abbr>
 | <a href=#comment-414310>#</a>
 | <a href=#comment-text title=引用HarryLit的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 
 
 <div id=comment-414940 class=comment>
 <div id=comment-last class=inner>
 <div class=comment-header>
 <div class=asset-meta>
<p>
 <span class=byline>
 
 <span class="vcard author"><a title=https://www.litop.top href=https://www.litop.top/ target=_blank rel=nofollow>Verticle</a></span>
 说：
 </span>
</p>
 </div>
 </div>
 <div class=comment-content id=comment-quote-414940>
 <p>不知道有没有可以自动过期的LocalStorage的实现呢？</p>
 </div>
<div class=comment-footer>
<div class=comment-footer-inner>
<p>
 <abbr class=published title="December  6, 2019  5:45 PM">2019年12月 6日 17:45</abbr>
 | <a href=#comment-414940>#</a>
 | <a href=#comment-text title=引用Verticle的这条留言>引用</a>
</p>
</div>
</div>
 </div>
</div>
 
 </div>
 
 
 
 
 <div class=comments-open id=comments-open>
 <h2 class=comments-open-header>我要发表看法</h2>
 <div class=comments-open-content>
 
 <div id=comment-greeting></div>
 <form method=post action=http://www.ruanyifeng.com/cgi-bin/mtos/mt-comments.cgi name=comments_form id=comments-form>
 
 
 
 
 
 
 
 <div id=comments-open-data>
 <div id=comments-open-text>
 <p><label for=comment-text>您的留言
 （HTML标签部分可用）</label></p>
 <p><textarea id=comment-text name=text rows=10 cols=50></textarea></p>
 </div>
 <div id=comment-form-name>
 <p><label for=comment-author>您的大名：</label></p>
 <p><input id=comment-author name=author size=30 value> <span class=hint> «-必填</span></p>
 </div>
 <div id=comment-form-email>
 <p><label for=comment-email>电子邮件：</label></p>
 <p><input id=comment-email name=email size=30 value> <span class=hint> «-必填，不公开</span></p>
 </div>
 <div id=comment-form-url>
 <p><label for=comment-url>个人网址：</label></p>
 <p><input id=comment-url name=url size=30 value> <span class=hint> «-我信任你，不会填写广告链接</span></p>
 </div>
 <div id=comment-form-remember-me>
 <p>
 <label for=comment-bake-cookie>记住个人信息？</label><input type=checkbox id=comment-bake-cookie name=bakecookie value=1 accesskey=r></p>
 </div>
 </div>
 <div id=comment-form-reply style=display:none>
 <input type=checkbox id=comment-reply name=comment_reply value>
 <label for=comment-reply id=comment-reply-label></label>
 </div>
 <div id=comments-open-captcha></div>
 <div id=comments-open-footer>
<div id=wait style=display:none>
<p></p>
<p>
 
</p>
</div>
 <p><input type=submit accesskey=s name=post id=comment-submit value=发表> <span class=hint> «- 点击按钮</span></p>
 </div>
 </form>
 </div>
 </div>
 
</div>
 </div>
 </div>
 </div>
 </div>
 
 
 <div id=footer>
<div id=footer-inner>
 <div id=footer-content>
 
 <section>
 <p><img src="data:image/jpeg;base64,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" alt=微信扫描></p>
 <p>
 <a title=微博 href=http://weibo.com/ruanyf target=_blank>Weibo</a> | 
 <a title=Twitter target=_blank href=https://twitter.com/ruanyf>Twitter</a> |
 <a title=GitHub target=_blank href=https://github.com/ruanyf>GitHub</a>
 </p>
 
 <p>Email: <a title=电子邮件 href=mailto:yifeng.ruan@gmail.com target=_blank>yifeng.ruan@gmail.com</a></p>
 </section>
 
 
 </div>
</div>
</div>
<div id=share_button_proto style=display:none>
<a class=bshareDiv href=http://www.bshare.cn/share style=display:block;text-decoration:none;padding:0px;margin:0px;font-size:12px;height:21px;width:51px></a>
</div>
 </div>
 </div>
<div id=bsBox class="bsBox sf-hidden"><div class=bsClose>X</div><div class=bsTop></div><div class=bsFrameDiv></div><div id=bsMorePanel style=display:none></div></div><div id=bsPanelHolder><div id=bsPanel style=display:none><div class=bsTitle></div><div class=bsClear></div><div style=padding-left:8px;background:#fff></div><div style="height:20px;line-height:20px;padding:0 8px;border-top:1px solid #e8e8e8;color:#666;background:#f2f2f2"></div></div></div>